(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(58)},37:function(e,t,n){},43:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(28),c=n.n(i),s=(n(37),n(7)),o=n(8),l=n(10),u=n(9),m=n(11),p=n(12),h=n(18),f=n(6),g=n(5),d=n.n(g),v=(n(43),function(e){var t=e.img,n=e.status,a=e.animationEnd,i=e.visible;return r.a.createElement("div",{className:d()("choice-item",{"choice-item--visible":i})},r.a.createElement("img",{onAnimationEnd:function(){return a(t)},className:d()("choice-item__image","choice-item__image--".concat(n)),src:"images/sm/".concat(t),alt:t}))}),y=n(19),j=n.n(y),E=n(23);n(27);function b(e){var t={method:"POST",headers:{"Content-Type":"application/json"},credentials:"omit",body:JSON.stringify(e)};return fetch("https://amishin.pythonanywhere.com/api/v1/model/predict",t).then(function(e){var t=e.json();return 200===e.status?t:Promise.reject("Server error")})}function k(e,t){var n="https://amishin.pythonanywhere.com/api/v1/mocks/mm?make=".concat(e,"&model=").concat(t);return fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"omit"}).then(function(e){var t=e.json();return 200===e.status?t:(console.log(n),Promise.reject("Server error"))})}var w=39,I=37,O=n(59),S=(n(48),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentItem:n.props.itemsList[0]},n.handleKey=function(e){var t=Object(f.a)({},n.state.currentItem),a=n.props.itemsList.filter(function(e){return!e.status});a.length>1&&n.setState({currentItem:a[1]}),e.keyCode===I?n.props.dislike(t.tags,t.img):e.keyCode===w&&n.props.like(t.tags,t.img),1!==a.length||n.props.loadResult()},n.handleLike=function(){var e=Object(f.a)({},n.state.currentItem),t=n.props.itemsList.filter(function(e){return!e.status});t.length>1&&n.setState({currentItem:t[1]}),n.props.like(e.tags,e.img),1!==t.length||n.props.loadResult()},n.handleDislike=function(){var e=Object(f.a)({},n.state.currentItem),t=n.props.itemsList.filter(function(e){return!e.status});t.length>1&&n.setState({currentItem:t[1]}),n.props.dislike(e.tags,e.img),1!==t.length||n.props.loadResult()},n.focusContainer=function(e){e&&e.focus()},n.handleAnimationEnd=function(e){n.props.process(e)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"choice-container",ref:this.focusContainer,tabIndex:"0",onKeyDown:this.handleKey},r.a.createElement("h3",{className:"m-2"},"Do you like this?"),r.a.createElement("div",{className:"choice-items"},this.props.itemsList&&Object(h.a)(this.props.itemsList).reverse().map(function(t,n){return r.a.createElement(v,{animationEnd:e.handleAnimationEnd,key:t.img,img:t.img,status:t.status,visible:e.state.currentItem&&t.img===e.state.currentItem.img||t.status})})),r.a.createElement("div",{className:"buttons"},r.a.createElement(O.a,{color:"danger",onClick:this.handleDislike,className:"dislike"},r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 32 32"},r.a.createElement("title",null,"dislike"),r.a.createElement("path",{fill:"#fff",d:"M3 14c-2.281 0-1-6 1-6-1 0 0-5 2-5 0-2 2-3 4-3 8.448 0 5.477 2.114 14 3v16c-7.529 2.258-15 7.919-15 13-1.656 0-6-2 0-12 0 0-5 0-6 0-3 0-2-6 0-6zM26 19v-16h-2v-1h4c1.1 0 2 1.35 2 3v12c0 1.65-0.9 3-2 3h-4v-1h2z"})),"Dislike"),r.a.createElement(O.a,{color:"danger",onClick:this.handleLike,className:"like"},"Like",r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 32 32"},r.a.createElement("title",null,"like"),r.a.createElement("path",{fill:"#fff",d:"M29 18c2.281 0 1 6-1 6 1 0 0 5-2 5 0 2-2 3-4 3-8.448 0-5.477-2.114-14-3v-16c7.529-2.258 15-7.92 15-13 1.656 0 6 2 0 12 0 0 5 0 6 0 3 0 2 6 0 6zM6 13v16h2v1h-4c-1.1 0-2-1.35-2-3v-12c0-1.65 0.9-3 2-3h4v1h-2z"})))))}}]),t}(r.a.Component)),N=Object(p.b)(function(e){return{itemsList:e.choiceItems}},function(e){return{like:function(t,n){return e(function(e,t){return{type:"LIKE",tags:e,item:t}}(t,n))},dislike:function(t,n){return e(function(e,t){return{type:"DISLIKE",tags:e,item:t}}(t,n))},process:function(t){return e(function(e){return{type:"PROCESS",item:e}}(t))},startFetching:function(){return e({type:"START_FETCHING"})},loadResult:function(){return e(function(){var e=Object(E.a)(j.a.mark(function e(t,n){var a,r,i;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),t({type:"START_FETCHING"}),e.next=4,b(a.selectedTags);case 4:return r=e.sent,e.next=7,Promise.all(r.map(function(){var e=Object(E.a)(j.a.mark(function e(t){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t.make,t.model);case 2:return n=e.sent,e.abrupt("return",{make:t.make,model:t.model,inventories:n});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 7:i=e.sent,t({type:"SET_RESULT",data:i}),t({type:"FINISHED"});case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())}}})(S),C=n(60),L=n(61),T=n(62),P=n(63),R=(n(50),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).findInvPhoto=function(e){return e.find(function(e){return e.vehicleInfo.photo.defaultPhoto&&e.vehicleInfo.photo.defaultPhoto.large.url}).vehicleInfo.photo.defaultPhoto.large.url},n.renderInventory=function(e,t){var a=e.vehicleInfo.photo.defaultPhoto?e.vehicleInfo.photo.defaultPhoto.large.url:n.findInvPhoto(t),i="".concat(e.vehicleInfo.styleInfo.year," ").concat(e.vehicleInfo.styleInfo.trim);return r.a.createElement("div",{key:e.vin,className:"inventory-item m-1"},r.a.createElement("a",{href:"https://www.edmunds.com/".concat(e.vehicleInfo.styleInfo.make,"/").concat(e.vehicleInfo.styleInfo.model,"/").concat(e.vehicleInfo.styleInfo.year,"/vin/").concat(e.vin,"/"),target:"_blanc"},r.a.createElement(C.a,{className:"h-100"},r.a.createElement("div",{className:"card_image",style:{backgroundImage:"url(".concat(a,")")}}),r.a.createElement(L.a,null,r.a.createElement(T.a,null,i),r.a.createElement(P.a,null,"Base MSRP: ",e.prices.baseMsrp.toLocaleString("en-US",{style:"currency",currency:"USD"}))))))},n.convertUrlParam=function(e){return e.toLowerCase().replace(" ","-")},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.makeModel,n=t.make,a=t.model,i=t.inventories,c="".concat(n," ").concat(a);return r.a.createElement("div",{className:"make-model-card"},r.a.createElement("div",{className:"card_header m-3"},r.a.createElement("a",{className:"d-block h5 mb-0",href:"https://www.edmunds.com/".concat(this.convertUrlParam(n),"/").concat(this.convertUrlParam(a),"/"),target:"_blanc"},c)),r.a.createElement("div",{className:"inventories justify-content-around"},i.results.map(function(t){return e.renderInventory(t,i.results)})))}}]),t}(a.Component)),_=(n(52),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"reload-link"},r.a.createElement("h3",null,"People with the same preferences choose next cars"),r.a.createElement("a",{className:"d-block h5 mb-0",href:"",onClick:function(){return window.location.reload()}},"Try again")),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},this.props.results.map(function(e){return r.a.createElement(R,{key:"".concat(e.make,"-").concat(e.model),makeModel:e})})))}}]),t}(a.Component)),x=Object(p.b)(function(e){return{results:e.results}})(_),D=n(64),A=n(65),K=(n(54),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).renderInitialBanner=function(){return r.a.createElement("div",{className:"start-container"},r.a.createElement(D.a,null,r.a.createElement("h1",null,"Tell us what you like to find your perfect car"),r.a.createElement("p",null,r.a.createElement(O.a,{color:"danger",size:"lg",onClick:n.props.start,className:"m-3 pr-5 pl-5"},"Start"))))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"initial"===this.props.status?this.renderInitialBanner():"in_progress"===this.props.status?r.a.createElement(N,null):"fetching"===this.props.status?r.a.createElement(A.a,{className:"mt-5",color:"primary"}):r.a.createElement(x,null))}}]),t}(a.Component)),M=Object(p.b)(function(e){return{status:e.status}},function(e){return{start:function(){return e({type:"IN_PROGRESS"})}}})(K),z=(n(56),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement(p.a,{store:e},r.a.createElement("div",{className:"App"},r.a.createElement(M,null)))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B,F=n(13),G=n(31),U=n(17),H={},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE":var n={};return t.tags.forEach(function(t){var a=e[t]||[];n=Object(f.a)({},n,Object(U.a)({},t,[].concat(Object(h.a)(a),[1])))}),Object(f.a)({},e,n);case"DISLIKE":var a={};return t.tags.forEach(function(t){var n=e[t]||[];a=Object(f.a)({},a,Object(U.a)({},t,[].concat(Object(h.a)(n),[0])))}),Object(f.a)({},e,a);default:return e}},W=(B=6,[{img:"birds.jpg",tags:["birds","family"]},{img:"cats.jpg",tags:["cats"]},{img:"coffee.jpg",tags:["restaurants","beer"]},{img:"cycling.jpg",tags:["sport","sporty","nature"]},{img:"dogs.jpg",tags:["dogs"]},{img:"family.jpg",tags:["family","nature"]},{img:"fastfood.jpg",tags:["fastfood","cola"]},{img:"fitness.jpg",tags:["sport","sporty"]},{img:"healthfood.jpg",tags:["homefood","restaurants"]},{img:"listenmusic.jpg",tags:["pop","casual"]},{img:"pizza.jpg",tags:["fastfood"]},{img:"plants.jpg",tags:["nature"]},{img:"reading.jpg",tags:["reading","casual"]},{img:"running.jpg",tags:["sport","sporty","running"]},{img:"seafood.jpg",tags:["restaurants","travel"]},{img:"serfing.jpg",tags:["travel","sporty"]},{img:"snowboarding.jpg",tags:["sport","sporty","nature"]},{img:"swimming.jpg",tags:["swimming","adventure"]},{img:"travel.jpg",tags:["travel"]},{img:"walking.jpg",tags:["nature","family","mountains"]},{img:"winter.jpg",tags:["mountains","nature"]}].sort(function(){return.5-Math.random()}).slice(0,B)),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE":return e.map(function(e){return Object(f.a)({},e,{status:t.item===e.img?"like":e.status})});case"DISLIKE":return e.map(function(e){return Object(f.a)({},e,{status:t.item===e.img?"dislike":e.status})});case"PROCESS":return e.filter(function(e){return t.item!==e.img});default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESULT":return t.data;default:return e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";switch((arguments.length>1?arguments[1]:void 0).type){case"IN_PROGRESS":return"in_progress";case"START_FETCHING":return"fetching";case"LOADING":return"loading";case"FINISHED":return"finished";default:return e}},V=function(e){return Object(F.c)(Object(f.a)({status:Q,selectedTags:J,choiceItems:$,results:q},e))},X={},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=[G.a],n=F.d,a=Object(F.e)(V(),e,n(F.a.apply(void 0,t)));return a.asyncReducers={},a}();c.a.render(r.a.createElement(z,{store:Y}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.7c73cfb7.chunk.js.map