{"version":3,"sources":["components/choice-container/choice-item/choice-item.jsx","requests/tinder.js","requests/inventory.js","actions/results.js","constants/keys.js","components/choice-container/choice-container.jsx","actions/tags.js","constants/actions.js","actions/status.js","components/make-model-card/make-model-card.jsx","components/result-container/result-container.jsx","components/main-container/main-container.jsx","App.js","serviceWorker.js","reducers/tags.js","reducers/choiceItems.js","reducers/results.js","reducers/status.js","reducers/index.js","store/store.js","index.js"],"names":["ChoiceItem","_ref","img","react_default","a","createElement","className","src","concat","alt","getRecommendations","tags","requestConfig","method","headers","Content-Type","credentials","body","JSON","stringify","fetch","then","response","dataPromise","json","status","Promise","reject","zipCode","radius","pagesize","findInventories","make","model","url","RIGHT","LEFT","ChoiceContainerUi","state","currentItem","handleKey","e","keyCode","_this","props","dislike","itemsList","like","length","setState","loadResult","handleLike","handleDislike","focusContainer","component","focus","ref","this","tabIndex","onKeyDown","choice_item_ChoiceItem","Button","color","onClick","version","xmlns","width","height","viewBox","fill","d","React","Component","ChoiceContainer","connect","choiceItems","dispatch","tag","type","startFetching","Object","asyncToGenerator","regenerator_default","mark","_callee2","getState","recommendations","result","wrap","_context2","prev","next","selectedTags","sent","all","map","_ref2","_callee","makeModel","inventories","_context","abrupt","stop","_x3","apply","arguments","data","_x","_x2","MakeModelCard","renderInventory","inv","vehicleInfo","photo","defaultPhoto","large","title","styleInfo","year","trim","key","vin","href","target","Card","style","backgroundImage","CardBody","CardTitle","class","CardSubtitle","prices","baseMsrp","toLocaleString","currency","convertUrlParam","param","toLowerCase","replace","_this2","_this$props$makeModel","results","inventory","ResultContainerUI","item","make_model_card_make_model_card","MainContainerUI","react","result_container","App","store","es","main_container","Boolean","window","location","hostname","match","initialState","reducers_tags","undefined","action","tagsInfo","forEach","tagValues","objectSpread","defineProperty","toConsumableArray","n","sort","Math","random","slice","reducers_status","makeRootReducers","asyncReducers","combineReducers","statusReducer","tagsReducer","choiceItemsReducer","resultsReducer","store_store","initState","middleware","thunk","composeEnhancers","compose","createStore","makeRootReducer","applyMiddleware","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.96c1b637.chunk.js","sourcesContent":["import React from 'react';\nimport './choice-item.css';\n\nexport const ChoiceItem = ({img}) => (\n  <div className=\"choice-item\">\n    <img\n      className=\"choice-item__image\"\n      src={`images/sm/${img}`}\n      alt={img}\n    />\n  </div>\n);","import 'isomorphic-fetch';\n\nexport function getRecommendations(tags) {\n    const url = 'https://amishin.pythonanywhere.com/api/v1/model/predict';\n    const requestConfig = {\n      method: 'POST',\n      headers: {'Content-Type': 'application/json'},\n      credentials: 'omit',\n      body: JSON.stringify(tags)\n    };\n    return fetch(url, requestConfig).then(response => {\n        const dataPromise = response.json();\n        if (response.status === 200) return dataPromise;\n        return Promise.reject('Server error');\n    });\n  }","import 'isomorphic-fetch';\n\nconst zipCode = 44241;\nconst radius = 500;\nconst pagesize = 3;\n\nexport function findInventories(make, model) {\n    const url = `https://www.edmunds.com/api/inventory/v5/find?zip=${zipCode}&sortby=_geo&radius=${radius}&pagenum=1&pagesize=${pagesize}&vehicleInfo.styleInfo.make=${make}&vehicleInfo.styleInfo.model=${model}&fields=vin,type,vehicleInfo,prices`;\n    const requestConfig = {\n      method: 'GET',\n      headers: {'Content-Type': 'application/json'},\n      credentials: 'omit',\n    };\n    return fetch(url, requestConfig).then(response => {\n        const dataPromise = response.json();\n        if (response.status === 200) return dataPromise;\n        return Promise.reject('Server error');\n    });\n  }","import { SET_RESULT } from '../constants/actions';\nimport { setLoadingStatus, setFinishedStatus, startFetching } from './status';\nimport { getRecommendations } from '../requests/tinder';\nimport { findInventories } from '../requests/inventory';\n\nexport const setResultData = (data) => ({ type: SET_RESULT, data });\n\nexport const loadResult = () => async (dispatch, getState) => {\n    const state = getState();\n    dispatch(startFetching());\n    const recommendations = await getRecommendations(state.selectedTags);\n    const result = await Promise.all(recommendations.map(async (makeModel) => {\n      const inventories = await findInventories(makeModel.make, makeModel.model);\n      return {\n        make: makeModel.make,\n        model: makeModel.model,\n        inventories,\n      };\n    }));\n    dispatch(setResultData(result));\n    dispatch(setFinishedStatus());\n  };\n","export const RIGHT = 39;\nexport const LEFT = 37;","import React from 'react';\nimport { ChoiceItem } from './choice-item';\nimport { connect } from 'react-redux';\nimport { like, dislike } from '../../actions/tags';\nimport { startFetching } from '../../actions/status';\nimport { loadResult } from '../../actions/results';\nimport { LEFT, RIGHT } from '../../constants/keys';\nimport { Button } from 'reactstrap';\n\nimport './choice-container.css';\n\nconst mapStateToProps = state => ({\n  itemsList: state.choiceItems,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  like: (tag) => dispatch(like(tag)),\n  dislike: (tag) => dispatch(dislike(tag)),\n  startFetching: () => dispatch(startFetching()),\n  loadResult: () => dispatch(loadResult())\n});\nclass ChoiceContainerUi extends React.Component {\n  state = {\n    currentItem: 0,    \n  };\n\n  handleKey = (e) => {\n    if (e.keyCode === LEFT) {\n      this.props.dislike(this.props.itemsList[this.state.currentItem].tags);\n    } else if (e.keyCode === RIGHT) {\n      this.props.like(this.props.itemsList[this.state.currentItem].tags);\n    }\n    if (this.state.currentItem === this.props.itemsList.length - 1) {\n      this.props.loadResult();\n      return;\n    }\n    this.setState({ currentItem: this.state.currentItem + 1 });\n  };\n\n  handleLike = () => {\n    this.props.like(this.props.itemsList[this.state.currentItem].tags);\n    if (this.state.currentItem === this.props.itemsList.length - 1) {\n      this.props.loadResult();\n      return;\n    }\n    this.setState({ currentItem: this.state.currentItem + 1 });\n  }\n\n  handleDislike = () => {\n    this.props.dislike(this.props.itemsList[this.state.currentItem].tags);\n    if (this.state.currentItem === this.props.itemsList.length - 1) {\n      this.props.loadResult();\n      return;\n    }\n    this.setState({ currentItem: this.state.currentItem + 1 });\n  }\n\n  focusContainer = (component) => {\n    if (component) {\n      component.focus();\n    }\n  };\n\n  render () {\n    return (<div\n        className=\"choice-container\"\n        ref={this.focusContainer}\n        tabIndex=\"0\"\n        onKeyDown={this.handleKey}\n      >\n      <h1>Like or Dislike?</h1>\n      <ChoiceItem\n        img={this.props.itemsList[this.state.currentItem].img}\n      >\n      </ChoiceItem>\n      <div className=\"buttons\">\n        <Button color=\"danger\" onClick={this.handleDislike} className=\"dislike\">\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 32 32\">\n          <title>dislike</title>\n          <path fill=\"#fff\" d=\"M3 14c-2.281 0-1-6 1-6-1 0 0-5 2-5 0-2 2-3 4-3 8.448 0 5.477 2.114 14 3v16c-7.529 2.258-15 7.919-15 13-1.656 0-6-2 0-12 0 0-5 0-6 0-3 0-2-6 0-6zM26 19v-16h-2v-1h4c1.1 0 2 1.35 2 3v12c0 1.65-0.9 3-2 3h-4v-1h2z\"></path>\n          </svg>\n          Dislike\n        </Button>\n        <Button color=\"danger\" onClick={this.handleLike} className=\"like\">\n          Like\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 32 32\">\n          <title>like</title>\n          <path fill=\"#fff\" d=\"M29 18c2.281 0 1 6-1 6 1 0 0 5-2 5 0 2-2 3-4 3-8.448 0-5.477-2.114-14-3v-16c7.529-2.258 15-7.92 15-13 1.656 0 6 2 0 12 0 0 5 0 6 0 3 0 2 6 0 6zM6 13v16h2v1h-4c-1.1 0-2-1.35-2-3v-12c0-1.65 0.9-3 2-3h4v1h-2z\"></path>\n          </svg>\n        </Button>\n      </div>\n    </div>);\n  };\n};\n\nexport const ChoiceContainer = connect(mapStateToProps, mapDispatchToProps)(ChoiceContainerUi);","import { LIKE, DISLIKE } from '../constants/actions';\n\nexport const like = (tags) => ({ type: LIKE, tags });\n\nexport const dislike = (tags) => ({ type: DISLIKE, tags });","export const LIKE = 'LIKE';\nexport const DISLIKE = 'DISLIKE';\n\nexport const START_FETCHING = 'START_FETCHING';\nexport const LOADING = 'LOADING';\nexport const FINISHED = 'FINISHED';\n\nexport const SET_RESULT = 'SET_RESULT';","import { START_FETCHING, LOADING, FINISHED } from '../constants/actions';\n\nexport const startFetching = () => ({ type: START_FETCHING });\n\nexport const setLoadingStatus = () => ({ type: LOADING });\n\nexport const setFinishedStatus = () => ({ type: FINISHED });","import React, { Component } from 'react';\nimport { Card, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle, Button } from 'reactstrap';\n\nimport './make-model-card.css';\n\nclass MakeModelCard extends Component {\n\n  renderInventory = (inv) => {\n    const src = inv.vehicleInfo.photo.defaultPhoto\n      ? inv.vehicleInfo.photo.defaultPhoto.large.url\n      : 'https://static.ed.edmunds-media.com/unversioned/img/e17/no-vehicle-image.png';\n    const title = `${inv.vehicleInfo.styleInfo.year} ${inv.vehicleInfo.styleInfo.trim}`;\n    return (\n      <div key={inv.vin} className=\"inventory-item m-1\">\n        <a\n          href={`https://www.edmunds.com/${inv.vehicleInfo.styleInfo.make}/${inv.vehicleInfo.styleInfo.model}/${inv.vehicleInfo.styleInfo.year}/vin/${inv.vin}/`}\n          target=\"_blanc\"\n        >\n          <Card>\n            <div \n              className=\"card_image\"\n              style={{ backgroundImage: `url(${src})` }}\n            >\n            </div>\n            {/* <CardImg top width=\"100%\" src={src} alt=\"\" /> */}\n            {<CardBody>\n              <CardTitle class=\"card__title\">{title}</CardTitle>\n              <CardSubtitle>Base MSRP: {inv.prices.baseMsrp.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}</CardSubtitle>\n            </CardBody> }\n          </Card>\n        </a>\n      </div>\n    )\n  }\n\n  convertUrlParam = (param) => param.toLowerCase().replace(' ', '-');\n\n  render () {\n    const { make, model, inventories} = this.props.makeModel;\n    const title = `${make} ${model}`;\n    return (\n      <div\n          className=\"make-model-card\"\n        >\n        <div className=\"card_header m-3\">\n          <a className=\"d-block h5 mb-0\" href={`https://www.edmunds.com/${this.convertUrlParam(make)}/${this.convertUrlParam(model)}/`} target=\"_blanc\">\n            {title}\n          </a>\n        </div>\n        <div className=\"inventories justify-content-around\">\n          {inventories.results.map(inventory => this.renderInventory(inventory))}\n        </div>\n      </div>\n    );\n  };\n};\n\nexport default MakeModelCard;","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport MakeModelCard from '../make-model-card/make-model-card';\n\nconst mapStateToProps = state => ({\n  results: state.results\n})\n\nclass ResultContainerUI extends Component {\n  render () {\n    return (<div className=\"d-flex flex-wrap justify-content-around\">\n      {this.props.results.map(item => \n        <MakeModelCard key={`${item.make}-${item.model}`} makeModel={item}>\n        </MakeModelCard>)\n      }\n    </div>);\n  };\n};\n\nexport default connect(mapStateToProps)(ResultContainerUI);","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { ChoiceContainer }  from '../choice-container';\nimport ResultContainer  from '../result-container/result-container';\n\nconst mapStateToProps = state => ({\n  status: state.status\n})\n\nclass MainContainerUI extends Component {\n  render () {\n    return (<Fragment>\n      {this.props.status === 'in_progress'\n        ? <ChoiceContainer></ChoiceContainer>\n        : this.props.status === 'fetching'\n          ? 'loading'\n          : <ResultContainer></ResultContainer>\n      }\n    </Fragment>);\n  };\n};\n\nexport default connect(mapStateToProps)(MainContainerUI);","import React, { Component } from 'react';\nimport { Provider } from'react-redux';\n\nimport MainContainer from './components/main-container/main-container';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <div className=\"App\">\n          <MainContainer></MainContainer>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { LIKE, DISLIKE } from '../constants/actions';\n\nconst initialState = {};\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n    case LIKE: {\n      let tagsInfo = {};\n      action.tags.forEach(tag => {\n        const tagValues = state[tag] || [];\n        tagsInfo = {\n          ...tagsInfo,\n          [tag]: [...tagValues, 1]\n        };\n      });\n      \n      return {\n        ...state,\n        ...tagsInfo\n      };\n    }\n    case DISLIKE: {\n      let tagsInfo = {};\n      action.tags.forEach(tag => {\n        const tagValues = state[tag] || [];\n        tagsInfo = {\n          ...tagsInfo,\n          [tag]: [...tagValues, 0]\n        };\n      });\n      \n      return {\n        ...state,\n        ...tagsInfo\n      };\n    }\n    default: \n      return state;\n  }\n}","const imagesCount = 6;\n\nconst initialState = [\n  { img: \"birds.jpg\", tags: [\"birds\", \"family\"] },\n  { img: \"cats.jpg\", tags: [\"cats\"] },\n  { img: \"coffee.jpg\", tags: [\"restaurants\", \"beer\"] },\n  { img: \"cycling.jpg\", tags: [\"sport\", \"sporty\", \"nature\"]},\n  { img: \"dogs.jpg\", tags: [\"dogs\"] },\n  { img: \"family.jpg\", tags: [\"family\", \"nature\"] },\n  { img: \"fastfood.jpg\", tags: [\"fastfood\", \"cola\"] },\n  { img: \"fitness.jpg\", tags: [\"sport\", \"sporty\"] },\n  { img: \"healthfood.jpg\", tags: [\"homefood\", \"restaurants\"] },\n  { img: \"listenmusic.jpg\", tags: [\"pop\", \"casual\"] },\n  { img: \"pizza.jpg\", tags: [\"fastfood\"] },\n  { img: \"plants.jpg\", tags: [\"nature\"] },\n  { img: \"reading.jpg\", tags: [\"reading\", \"casual\"] },\n  { img: \"running.jpg\", tags: [\"sport\", \"sporty\", \"running\"] },\n  { img: \"seafood.jpg\", tags: [\"restaurants\", \"travel\"] },\n  { img: \"serfing.jpg\", tags: [\"travel\", \"sporty\"] },\n  { img: \"snowboarding.jpg\", tags: [\"sport\", \"sporty\", \"nature\"] },\n  { img: \"swimming.jpg\", tags: [\"swimming\", \"adventure\"] },\n  { img: \"travel.jpg\", tags: [\"travel\" ]},\n  { img: \"walking.jpg\", tags: [\"nature\", \"family\", \"mountains\"] },\n  { img: \"winter.jpg\", tags: [\"mountains\", \"nature\"] }\n];\n\nconst getRandomImages = (array, n) => {\n  const s = array.sort(() => 0.5 - Math.random());\n  return s.slice(0, n);\n};\n\nexport default (state = getRandomImages(initialState, imagesCount), action) => {\n  switch(action.type) {\n    default: \n      return state;\n  }\n}","import { SET_RESULT } from '../constants/actions';\n\nexport default (state = {}, action) => {\n  switch(action.type) {\n    case SET_RESULT:\n      return action.data;\n    default: \n      return state;\n  }\n}","import { START_FETCHING, LOADING, FINISHED } from '../constants/actions';\n\nexport default (state = 'in_progress', action) => {\n  switch(action.type) {\n    case START_FETCHING:\n      return 'fetching';\n    case LOADING:\n      return 'loading';\n    case FINISHED:\n      return 'finished';\n    default: \n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport tagsReducer from './tags';\nimport choiceItemsReducer from './choiceItems';\nimport resultsReducer from './results';\nimport statusReducer from './status';\n\nconst makeRootReducers = asyncReducers => combineReducers({\n  status: statusReducer,\n  selectedTags: tagsReducer,\n  choiceItems: choiceItemsReducer,\n  results: resultsReducer,\n  ...asyncReducers,\n});\n\nexport default makeRootReducers;","import { applyMiddleware, compose, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport makeRootReducer from '../reducers/index';\n\nconst initialState = {\n  // choiceItems: [\n  //   { img: 'birds.jpg', tags: [''] },\n  //   { img: 'cats.jpg', tags: [''] },\n  //   { img: 'coffee.jpg', tags: [''] },\n  //   { img: 'cycling.jpg', tags: [''] }\n  // ],\n  // selectedTags: [],\n  // results: {},\n};\n\n\nexport default ((initState = initialState) => {\n  const middleware = [thunk];\n\n  // const enhancers = [];\n\n  let composeEnhancers = compose;\n\n  if (process.env.NODE_ENV !== 'production') {\n    const composeWithDevToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\n    if (typeof composeWithDevToolsExtension === 'function') {\n      composeEnhancers = composeWithDevToolsExtension;\n    }\n  }\n\n  const store = createStore(\n    makeRootReducer(),\n    initState,\n    composeEnhancers(\n      applyMiddleware(...middleware),\n    )\n  );\n  store.asyncReducers = {};\n  return store;\n})();\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store/store';\n\nReactDOM.render(<App store={store}/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}