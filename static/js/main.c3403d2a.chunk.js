(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,n){t.exports=n(40)},26:function(t,e,n){},32:function(t,e,n){},36:function(t,e,n){},38:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(18),i=n.n(c),o=(n(26),n(4)),s=n(5),u=n(8),l=n(6),p=n(9),f=n(7),h=(n(32),function(t){var e=t.img;return a.a.createElement("img",{className:"choice-item",src:"images/sm/".concat(e)})});n(34);var d=function(){return function(t,e){var n=e();return t({type:"START_FETCHING"}),function(t){var e={method:"POST",headers:{"Content-Type":"application/json"},credentials:"omit",body:JSON.stringify(t)};return fetch("http://amishin.pythonanywhere.com/api/v1/model/predict",e).then(function(t){var e=t.json();return 200===t.status?e:Promise.reject("Server error")})}(n.selectedTags).then(function(e){t({type:"SET_RESULT",data:e}),t({type:"FINISHED"})})}},m=39,g=37,v=(n(36),function(t){function e(){var t,n;Object(o.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).state={currentItem:0},n.handleKey=function(t){n.state.currentItem===n.props.itemsList.length-1&&n.props.loadResult(),t.keyCode===g?n.props.dislike(n.props.itemsList[n.state.currentItem].tags):t.keyCode===m&&n.props.like(n.props.itemsList[n.state.currentItem].tags),n.setState({currentItem:n.state.currentItem+1})},n.focusContainer=function(t){t&&t.focus()},n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"choice-container",ref:this.focusContainer,tabIndex:"0",onKeyDown:this.handleKey},a.a.createElement("h1",null,"Like or Dislike?"),a.a.createElement(h,{img:this.props.itemsList[this.state.currentItem].img}))}}]),e}(a.a.Component)),b=Object(f.b)(function(t){return{itemsList:t.choiceItems}},function(t){return{like:function(e){return t({type:"LIKE",tags:e})},dislike:function(e){return t({type:"DISLIKE",tags:e})},startFetching:function(){return t({type:"START_FETCHING"})},loadResult:function(){return t(d())}}})(v),j=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,"in_progress"===this.props.status?a.a.createElement(b,null):"Waiting result")}}]),e}(r.Component),y=Object(f.b)(function(t){return{status:t.status}})(j),O=(n(38),function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.props.store;return a.a.createElement(f.a,{store:t},a.a.createElement("div",{className:"App"},a.a.createElement(y,null)))}}]),e}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(1),I=n(20),w=n(2),T=n(11),k=n(14),S={},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LIKE":var n={};return e.tags.forEach(function(e){var r=t[e]||[];n=Object(w.a)({},n,Object(T.a)({},e,[].concat(Object(k.a)(r),[1])))}),Object(w.a)({},t,n);case"DISLIKE":var r={};return e.tags.forEach(function(e){var n=t[e]||[];r=Object(w.a)({},r,Object(T.a)({},e,[].concat(Object(k.a)(n),[0])))}),Object(w.a)({},t,r);default:return t}},C=[{img:"birds.jpg",tags:["birds"]},{img:"cats.jpg",tags:["cats","birds"]},{img:"coffee.jpg",tags:["coffee"]},{img:"cycling.jpg",tags:["cycling","birds"]}],N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return(arguments.length>1?arguments[1]:void 0).type,t},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_RESULT":return e.data;default:return t}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"in_progress";switch((arguments.length>1?arguments[1]:void 0).type){case"START_FETCHING":return"fetching";case"LOADING":return"loading";case"FINISHED":return"finished";default:return t}},F=function(t){return Object(E.c)(Object(w.a)({status:D,selectedTags:L,choiceItems:N,results:R},t))},K={},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=[I.a],n=E.d,r=Object(E.e)(F(),t,n(E.a.apply(void 0,e)));return r.asyncReducers={},r}();i.a.render(a.a.createElement(O,{store:_}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.c3403d2a.chunk.js.map