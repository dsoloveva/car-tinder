(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(50)},35:function(e,t,n){},41:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(25),i=n.n(c),s=(n(35),n(6)),o=n(7),u=n(11),l=n(8),m=n(12),p=n(10),h=(n(41),function(e){var t=e.img;return a.a.createElement("div",{className:"choice-item"},a.a.createElement("img",{className:"choice-item__image",src:"images/sm/".concat(t),alt:t}))}),d=n(16),f=n.n(d),v=n(20);n(24);function g(e){var t={method:"POST",headers:{"Content-Type":"application/json"},credentials:"omit",body:JSON.stringify(e)};return fetch("http://amishin.pythonanywhere.com/api/v1/model/predict",t).then(function(e){var t=e.json();return 200===e.status?t:Promise.reject("Server error")})}var b=44241,j=500,y=3;function I(e,t){var n="https://www.edmunds.com/api/inventory/v5/find?zip=".concat(b,"&sortby=_geo&radius=").concat(j,"&pagenum=1&pagesize=").concat(y,"&vehicleInfo.styleInfo.make=").concat(e,"&vehicleInfo.styleInfo.model=").concat(t,"&fields=vin,vehicleInfo");return fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"omit"}).then(function(e){var t=e.json();return 200===e.status?t:Promise.reject("Server error")})}var w=39,E=37,k=n(52),O=(n(46),function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={currentItem:0},n.handleKey=function(e){e.keyCode===E?n.props.dislike(n.props.itemsList[n.state.currentItem].tags):e.keyCode===w&&n.props.like(n.props.itemsList[n.state.currentItem].tags),n.state.currentItem!==n.props.itemsList.length-1?n.setState({currentItem:n.state.currentItem+1}):n.props.loadResult()},n.handleLike=function(){n.props.like(n.props.itemsList[n.state.currentItem].tags),n.state.currentItem!==n.props.itemsList.length-1?n.setState({currentItem:n.state.currentItem+1}):n.props.loadResult()},n.handleDislike=function(){n.props.dislike(n.props.itemsList[n.state.currentItem].tags),n.state.currentItem!==n.props.itemsList.length-1?n.setState({currentItem:n.state.currentItem+1}):n.props.loadResult()},n.focusContainer=function(e){e&&e.focus()},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"choice-container",ref:this.focusContainer,tabIndex:"0",onKeyDown:this.handleKey},a.a.createElement("h1",null,"Like or Dislike?"),a.a.createElement(h,{img:this.props.itemsList[this.state.currentItem].img}),a.a.createElement("div",{className:"buttons"},a.a.createElement(k.a,{color:"danger",onClick:this.handleDislike,className:"dislike"},a.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 32 32"},a.a.createElement("title",null,"dislike"),a.a.createElement("path",{fill:"#fff",d:"M3 14c-2.281 0-1-6 1-6-1 0 0-5 2-5 0-2 2-3 4-3 8.448 0 5.477 2.114 14 3v16c-7.529 2.258-15 7.919-15 13-1.656 0-6-2 0-12 0 0-5 0-6 0-3 0-2-6 0-6zM26 19v-16h-2v-1h4c1.1 0 2 1.35 2 3v12c0 1.65-0.9 3-2 3h-4v-1h2z"})),"Dislike"),a.a.createElement(k.a,{color:"danger",onClick:this.handleLike,className:"like"},"Like",a.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 32 32"},a.a.createElement("title",null,"like"),a.a.createElement("path",{fill:"#fff",d:"M29 18c2.281 0 1 6-1 6 1 0 0 5-2 5 0 2-2 3-4 3-8.448 0-5.477-2.114-14-3v-16c7.529-2.258 15-7.92 15-13 1.656 0 6 2 0 12 0 0 5 0 6 0 3 0 2 6 0 6zM6 13v16h2v1h-4c-1.1 0-2-1.35-2-3v-12c0-1.65 0.9-3 2-3h4v1h-2z"})))))}}]),t}(a.a.Component)),L=Object(p.b)(function(e){return{itemsList:e.choiceItems}},function(e){return{like:function(t){return e({type:"LIKE",tags:t})},dislike:function(t){return e({type:"DISLIKE",tags:t})},startFetching:function(){return e({type:"START_FETCHING"})},loadResult:function(){return e(function(){var e=Object(v.a)(f.a.mark(function e(t,n){var r,a,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),t({type:"START_FETCHING"}),e.next=4,g(r.selectedTags);case 4:return a=e.sent,e.next=7,Promise.all(a.map(function(){var e=Object(v.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t.make,t.model);case 2:return n=e.sent,e.abrupt("return",{make:t.make,model:t.model,inventories:n});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 7:c=e.sent,t({type:"SET_RESULT",data:c}),t({type:"FINISHED"});case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())}}})(O),T=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,"in_progress"===this.props.status?a.a.createElement(L,null):"Waiting result")}}]),t}(r.Component),S=Object(p.b)(function(e){return{status:e.status}})(T),C=(n(48),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.store;return a.a.createElement(p.a,{store:e},a.a.createElement("div",{className:"App"},a.a.createElement(S,null)))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n(4),x=n(29),D=n(5),R=n(15),_=n(21),F={},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE":var n={};return t.tags.forEach(function(t){var r=e[t]||[];n=Object(D.a)({},n,Object(R.a)({},t,[].concat(Object(_.a)(r),[1])))}),Object(D.a)({},e,n);case"DISLIKE":var r={};return t.tags.forEach(function(t){var n=e[t]||[];r=Object(D.a)({},r,Object(R.a)({},t,[].concat(Object(_.a)(n),[0])))}),Object(D.a)({},e,r);default:return e}},z=[{img:"birds.jpg",tags:["birds"]},{img:"cats.jpg",tags:["cats","birds"]},{img:"coffee.jpg",tags:["coffee"]},{img:"cycling.jpg",tags:["cycling","birds"]}],A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return(arguments.length>1?arguments[1]:void 0).type,e},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESULT":return t.data;default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"in_progress";switch((arguments.length>1?arguments[1]:void 0).type){case"START_FETCHING":return"fetching";case"LOADING":return"loading";case"FINISHED":return"finished";default:return e}},B=function(e){return Object(N.c)(Object(D.a)({status:H,selectedTags:K,choiceItems:A,results:G},e))},M={},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=[x.a],n=N.d,r=Object(N.e)(B(),e,n(N.a.apply(void 0,t)));return r.asyncReducers={},r}();i.a.render(a.a.createElement(C,{store:P}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.dd115e00.chunk.js.map